## TIL (Today I Learned)
11ì›” 26ì¼ (ëª©)
> ì œê°€ ì´í•´í•œ ëŒ€ë¡œ ì‘ì„±í•œ ë‚´ìš©ì´ë‹¤ ë³´ë‹ˆ, ì •í™•í•œ ì •ë³´ê°€ ì•„ë‹ ìˆ˜ ìˆìŠµë‹ˆë‹¤.   
ê³ ì³ì•¼ í•  ë¶€ë¶„ì´ ìˆë‹¤ë©´, í¸í•˜ê²Œ ì–˜ê¸°í•´ ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤.ğŸ™ğŸ»

<br/>

### Notification Center and KVO
Notificationê³¼ KVOëŠ” ëª¨ë‘ ì¸ìŠ¤í„´ìŠ¤ í†µì‹ (ì •ë³´ì˜ ì†¡ìˆ˜ì‹ , êµí™˜)ì„ ìœ„í•œ ë°©ë²•ì´ë‹¤. 
íŠ¹ì • ì´ë²¤íŠ¸ê°€ ë°œìƒí•˜ë©´ ë‹¤ë¥¸ ì¸ìŠ¤í„´ìŠ¤ì— ì•Œë ¤ì£¼ê³  ê·¸ ì¸ìŠ¤í„´ìŠ¤ëŠ” ì•Œë¦¼ì€ ë°›ì•„ ì²˜ë¦¬í•˜ëŠ” ì‹ì´ë‹¤.
(í•„ìš”ë¡œ í•˜ëŠ” ì •ë³´ì˜ ìš”ì²­ê³¼ ì‘ë‹µ)
ì´ëŸ° ë°©ë²•ì„ ì‚¬ìš©í•˜ëŠ” ì´ìœ ëŠ” ì„œë¡œ ë‹¤ë¥¸ ì¸ìŠ¤í„´ìŠ¤ë¼ë¦¬ ì˜ì¡´ì„±ì„ ì¤„ì´ê¸° ìœ„í•¨ì´ë‹¤. 
íƒ€ì…ì„ ì„¤ê³„í•˜ëŠ” ê³¼ì •ì—ì„œ íƒ€ì…ë“¤ì´ ì„œë¡œë¥¼ ì•Œì§€ ëª»í•˜ëŠ”ê²Œ ì¢‹ê³ ,
ì˜ì¡´ì„±ê³¼ ê²°í•©ë„ê°€ ë‚®ì•„ì•¼ í–¥í›„ ìœ ì§€ë³´ìˆ˜(ê¸°ëŠ¥ì„ ë¶„ë¦¬í•´ë‚´ê±°ë‚˜ ìˆ˜ì •í•˜ê¸°)ì— ì¢‹ë‹¤.
ì´ëŸ¬í•œ ë¶€ë¶„ì—ì„œ KVOì™€ ë…¸í‹°í”¼ì¼€ì´ì…˜ì€ ì§ì ‘ ì†Œí†µì„ ì¤„ì—¬ ì¸ìŠ¤í„´ìŠ¤ ì‚¬ì´ì˜ ê²°í•©ë„ë¥¼ ë‚®ì¶œ ìˆ˜ ìˆë‹¤.
(ë‹¤ë§Œ, KVOëŠ” ì˜›ë‚  ë°©ì‹ì´ë‹¤..!)
> ê²°í•©ë„: ë‚®ì•„ì§ˆ ìˆ˜ë¡ ì¢‹ìŒ - ì´ëŸ° ì €ëŸ° ê¸°ëŠ¥ì´ í•˜ë‚˜ì— ê²°í•©ë˜ì–´ìˆìœ¼ë©´ ê²°í•©ë„ê°€ ë†’ì•„ì§
ì‘ì§‘ë„: ë†’ì•„ì§ˆ ìˆ˜ë¡ ì¢‹ìŒ - í•˜ë‚˜ì˜ íƒ€ì…ì´ í•˜ë‚˜ì˜ ì¼ì„ í•˜ëŠ” ê²ƒ
#### ë…¸í‹°í”¼ì¼€ì´ì…˜ ì„¼í„°
```swift
let center: NotificationCenter
center = NotificationCenter.defualt // 1. ë°©ì†¡êµ­ - Notification Center ìƒì„±

// 2. ì„¼í„°ì— Observer ë“±ë¡(ì±„ë„ê³¼ ê·¸ ì•Œë¦¼ì„ ë°›ì•˜ì„ ë•Œ í•˜ëŠ” ì¼ì„ ì •ì˜)
center.addObserver(forName: NSNotification.Name.init(rawValue: â€œtvNâ€), 
object: nil, // íŠ¹ì¢…ì„ ë³´ë‚´ëŠ” ì¹œêµ¬
queue: nill) { (notification) in 
print(notification) 
}

// 3. ì±„ë„ì˜ ë³€í™”ë¥¼ postë¡œ ì˜µì €ë²„ì—ê²Œ ë³´ë‚´ì¤Œ, 4. ì˜µì €ë²„ëŠ” ì•Œë¦¼ì„ ë°›ì•„ì„œ ê¸°ëŠ¥ì„ ìˆ˜í–‰.
center.post(name: NSNotification.Name.init(â€œtvNâ€), object: nil)
```
ì½”ì½”ì•„í„°ì¹˜ í™˜ê²½ì—ì„œ ì•± ì „ì—­ì— 
ë…¸í‹°í”¼ì¼€ì´ì…˜ì„ ê´€ë¦¬í•˜ëŠ” ë…¸í‹°í”¼ì¼€ì´ì…˜ ì„¼í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ë°©ë²•ì€ NotificationCenter.defualtì´ë‹¤. 
ë…¸í‹°í”¼ì¼€ì´ì…˜ ì„¼í„°ëŠ” ì‹±ê¸€í†¤ìœ¼ë¡œ ë˜ì–´ìˆê³ ,
ë§Œì•½ ì§€ì—­ë³„ë¡œ í•„ìš”í•˜ë‹¤ë©´ NotificationCenter()ë¥¼ ì‚¬ìš©í•´ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒˆë¡œ ë§Œë“¤ì–´ì¤€ë‹¤.

ì°¸ê³ : ë…¸í‹°í”¼ì¼€ì´ì…˜ ì„¼í„°ë¥¼ í†µí•´ ì „ë‹¬ë°›ì€ ë…¸í‹°í”¼ì¼€ì´ì…˜ì—ëŠ” ì •ë³´ë¥¼ ì‹¤ì–´ë³´ë‚¼ ìˆ˜ ìˆëŠ” userInfo ë”•ì…”ë„ˆë¦¬ê°€ í¬í•¨ë˜ì–´ìˆë‹¤.

ì•„ë˜ëŠ” ì´í•´í•˜ê¸° ìœ„í•œ ë‚´ ì‹¤í—˜...ğŸ˜†

```swift 
enum Comeback: String {
    case newSong = "new song"
    case newAlbum = "new album"
    case newPictureAlbue = "new picture album"
}
 
class Shinhwa {
    static func postNewSong() {
        NotificationCenter.default.post(
            name: NSNotification.Name(rawValue: Comeback.newSong.rawValue),
            object: nil)
    }
 
    static func postNewAlbum() {
        NotificationCenter.default.post(
            name: NSNotification.Name(rawValue: Comeback.newAlbum.rawValue),
            object: nil)
    }
 
    static func postNewPictureAlbum() {
        NotificationCenter.default.post(
            name: NSNotification.Name(rawValue: Comeback.newPictureAlbue.rawValue),
            object: nil)
    }
}
 
class fan {
    let name: String
    
    init(name: String){
        self.name = name
    }
    
    func observe(_ target: Comeback) {
        NotificationCenter.default.addObserver(
            forName: NSNotification.Name(rawValue: target.rawValue),
            object: nil,
            queue: nil) { (notification) in
            print("\(self.name)!! \(target.rawValue) came out!")
        }
    }
}
 
let lina = fan(name: "Lina")
let jini = fan(name: "jini")
 
lina.observe(Comeback.newAlbum)
lina.observe(Comeback.newPictureAlbue)
 
jini.observe(Comeback.newSong)
jini.observe(Comeback.newAlbum)
 
Shinhwa.postNewAlbum()
// Lina!! new album came out!
// jini!! new album came out!
 
Shinhwa.postNewPictureAlbum()
// Lina!! new picture album came out!
 
Shinhwa.postNewSong()
// jini!! new song came out!
```
#### KVO
```swift
class Person: NSOject {
	var ì• ì •ë„: Int = 100
}

let young = Person()
let john = Person() 
let min = Person()

john.addOberver(young,
			forKeyPath: â€œì• ì •ë„",
			option: .new,
			context: nil)
```
KVOëŠ” íŠ¹ì • ì¸ìŠ¤í„´ìŠ¤ (ì£¼ë¡œ) í”„ë¡œí¼í‹°ì˜ ë³€í™”ë¥¼ ê°ì§€í•˜ê³  ê·¸ì— ë”°ë¥¸ ì´ë²¤íŠ¸ë¥¼ ë°œìƒì‹œí‚¬ ìˆ˜ ìˆëŠ” íŒ¨í„´ì´ë‹¤.
ìš”ì¦˜ì—ëŠ” í”„ë¡œí¼í‹°ì˜ willSetê³¼ didSetìœ¼ë¡œ ëŒ€ì²´ê°€ ì–´ëŠì •ë„ ê°€ëŠ¥í•˜ë‹¤ê³ í•œë‹¤.
ê·¸ëŸ¼ ê·¸ê±¸ ê³µë¶€í•´ì•¼ê² ë„¤..?ã…ã…ğŸ¤£



[ë‹¤ìŒ TIL ë³´ê¸°](https://github.com/lina0322/yagom_iOS_camp/blob/main/TIL/2020_11/2020_11_30.md)
